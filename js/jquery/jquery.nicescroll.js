(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(function(B){var w=!1,r=!1,g=0,f=2000,i=0,l=["webkit","ms","moz","o"],q=window.requestAnimationFrame||!1,o=window.cancelAnimationFrame||!1;if(!q){for(var d in l){var p=l[d];q||(q=window[p+"RequestAnimationFrame"]);o||(o=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}}var m=window.MutationObserver||window.WebKitMutationObserver||!1,k={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:0.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var u=document.getElementsByTagName("script"),u=u.length?u[u.length-1].src.split("?")[0]:"";return 0<u.split("/").length?u.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},n=!1,c=function(){if(n){return n}var y=document.createElement("DIV"),C=y.style,u=navigator.userAgent,A=navigator.platform,z={haspointerlock:"pointerLockElement" in document||"webkitPointerLockElement" in document||"mozPointerLockElement" in document};z.isopera="opera" in window;z.isopera12=z.isopera&&"getUserMedia" in navigator;z.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);z.isie="all" in document&&"attachEvent" in y&&!z.isopera;z.isieold=z.isie&&!("msInterpolationMode" in C);z.isie7=z.isie&&!z.isieold&&(!("documentMode" in document)||7==document.documentMode);z.isie8=z.isie&&"documentMode" in document&&8==document.documentMode;z.isie9=z.isie&&"performance" in window&&9<=document.documentMode;z.isie10=z.isie&&"performance" in window&&10==document.documentMode;z.isie11="msRequestFullscreen" in y&&11<=document.documentMode;z.isieedge=navigator.userAgent.match(/Edge\/12\./);z.isie9mobile=/iemobile.9/i.test(u);z.isie9mobile&&(z.isie9=!1);z.isie7mobile=!z.isie9mobile&&z.isie7&&/iemobile/i.test(u);z.ismozilla="MozAppearance" in C;z.iswebkit="WebkitAppearance" in C;z.ischrome="chrome" in window;z.ischrome22=z.ischrome&&z.haspointerlock;z.ischrome26=z.ischrome&&"transition" in C;z.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window;z.hasmstouch=window.MSPointerEvent||!1;z.hasw3ctouch=(window.PointerEvent||!1)&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints);z.ismac=/^mac$/i.test(A);z.isios=z.cantouch&&/iphone|ipad|ipod/i.test(A);z.isios4=z.isios&&!("seal" in Object);z.isios7=z.isios&&"webkitHidden" in document;z.isandroid=/android/i.test(u);z.haseventlistener="addEventListener" in y;z.trstyle=!1;z.hastransform=!1;z.hastranslate3d=!1;z.transitionstyle=!1;z.hastransition=!1;z.transitionend=!1;A=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(u=0;u<A.length;u++){if("undefined"!=typeof C[A[u]]){z.trstyle=A[u];break}}z.hastransform=!!z.trstyle;z.hastransform&&(C[z.trstyle]="translate3d(1px,2px,3px)",z.hastranslate3d=/translate3d/.test(C[z.trstyle]));z.transitionstyle=!1;z.prefixstyle="";z.transitionend=!1;for(var A="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),x=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),v="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),u=0;u<A.length;u++){if(A[u] in C){z.transitionstyle=A[u];z.prefixstyle=x[u];z.transitionend=v[u];break}}z.ischrome26&&(z.prefixstyle=x[1]);z.hastransition=z.transitionstyle;a:{u=["-webkit-grab","-moz-grab","grab"];if(z.ischrome&&!z.ischrome22||z.isie){u=[]}for(A=0;A<u.length;A++){if(x=u[A],C.cursor=x,C.cursor==x){C=x;break a}}C="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}z.cursorgrabvalue=C;z.hasmousecapture="setCapture" in y;z.hasMutationObserver=!1!==m;return n=z},b=function(z,F){function A(){var y=I.doc.css(C.trstyle);return y&&"matrix"==y.substr(0,6)?y.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function x(){var y=I.win;if("zIndex" in y){return y.zIndex()}for(;0<y.length&&9!=y[0].nodeType;){var H=y.css("zIndex");if(!isNaN(H)&&0!=H){return parseInt(H)}y=y.parent()}return !1}function D(y,L,H){L=y.css(L);y=parseFloat(L);return isNaN(y)?(y=G[L]||0,H=3==y?H?I.win.outerHeight()-I.win.innerHeight():I.win.outerWidth()-I.win.innerWidth():1,I.isie8&&y&&(y+=1),H?y:0):y}function v(y,L,H,M){I._bind(y,L,function(N){N=N?N:window.event;var O={original:N,target:N.target||N.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==N.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){N.preventDefault?N.preventDefault():N.returnValue=!1;return !1},stopImmediatePropagation:function(){N.stopImmediatePropagation?N.stopImmediatePropagation():N.cancelBubble=!0}};"mousewheel"==L?(O.deltaY=-0.025*N.wheelDelta,N.wheelDeltaX&&(O.deltaX=-0.025*N.wheelDeltaX)):O.deltaY=N.detail;return H.call(y,O)},M)}function e(y,H,N){var M,L;0==y.deltaMode?(M=-Math.floor(I.opt.mousescrollstep/54*y.deltaX),L=-Math.floor(I.opt.mousescrollstep/54*y.deltaY)):1==y.deltaMode&&(M=-Math.floor(y.deltaX*I.opt.mousescrollstep),L=-Math.floor(y.deltaY*I.opt.mousescrollstep));H&&I.opt.oneaxismousemode&&0==M&&L&&(M=L,L=0,N&&(0>M?I.getScrollLeft()>=I.page.maxw:0>=I.getScrollLeft())&&(L=M,M=0));M&&(I.scrollmom&&I.scrollmom.stop(),I.lastdeltax+=M,I.debounced("mousewheelx",function(){var O=I.lastdeltax;I.lastdeltax=0;I.rail.drag||I.doScrollLeftBy(O)},15));if(L){if(I.opt.nativeparentscrolling&&N&&!I.ispage&&!I.zoomactive){if(0>L){if(I.getScrollTop()>=I.page.maxh){return !0}}else{if(0>=I.getScrollTop()){return !0}}}I.scrollmom&&I.scrollmom.stop();I.lastdeltay+=L;I.debounced("mousewheely",function(){var O=I.lastdeltay;I.lastdeltay=0;I.rail.drag||I.doScrollBy(O)},15)}y.stopImmediatePropagation();return y.preventDefault()}var I=this;this.version="3.6.6";this.name="nicescroll";this.me=F;this.opt={doc:B("body"),win:!1};B.extend(this.opt,k);this.opt.snapbackspeed=80;if(z){for(var J in I.opt){"undefined"!=typeof z[J]&&(I.opt[J]=z[J])}}this.iddoc=(this.doc=I.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(I.opt.win?I.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==I.opt.win;this.win=I.opt.win||(this.ispage?B(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?B(window):this.win;this.body=B("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=I.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do{this.id="ascrail"+f++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=this.railslocked=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=I.opt.overflowx;this.overflowy=I.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=c();var C=B.extend({},this.detected);this.ishwscroll=(this.canhwscroll=C.hastransform&&I.opt.hwacceleration)&&I.haswrapper;this.hasreversehr=this.isrtlmode&&!C.iswebkit;this.istouchcapable=!1;!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla||(this.istouchcapable=!0,C.cantouch=!1);I.opt.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1);this.debounced=function(y,H,M){var L=I.delaylist[y];I.delaylist[y]=H;L||(I.debouncedelayed=setTimeout(function(){if(I){var N=I.delaylist[y];I.delaylist[y]=!1;N.call(I)}},M))};var K=!1;this.synched=function(y,H){I.synclist[y]=H;(function(){K||(q(function(){K=!1;for(var L in I.synclist){var M=I.synclist[L];M&&M.call(I);I.synclist[L]=!1}}),K=!0)})();return y};this.unsynched=function(y){I.synclist[y]&&(I.synclist[y]=!1)};this.css=function(y,H){for(var L in H){I.saved.css.push([y,L,y.css(L)]),y.css(L,H[L])}};this.scrollTop=function(y){return"undefined"==typeof y?I.getScrollTop():I.setScrollTop(y)};this.scrollLeft=function(y){return"undefined"==typeof y?I.getScrollLeft():I.setScrollLeft(y)};var u=function(y,L,P,O,M,N,H){this.st=y;this.ed=L;this.spd=P;this.p1=O||0;this.p2=M||1;this.p3=N||0;this.p4=H||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};u.prototype={B2:function(y){return 3*y*y*(1-y)},B3:function(y){return 3*y*(1-y)*(1-y)},B4:function(y){return(1-y)*(1-y)*(1-y)},getNow:function(){var y=1-((new Date).getTime()-this.ts)/this.spd,H=this.B2(y)+this.B3(y)+this.B4(y);return 0>y?this.ed:this.st+Math.round(this.df*H)},update:function(y,H){this.st=this.getNow();this.ed=y;this.spd=H;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(y){if(!y){if(y=A()){return 16==y.length?-y[13]:-y[5]}if(I.timerscroll&&I.timerscroll.bz){return I.timerscroll.bz.getNow()}}return I.doc.translate.y};this.getScrollLeft=function(y){if(!y){if(y=A()){return 16==y.length?-y[12]:-y[4]}if(I.timerscroll&&I.timerscroll.bh){return I.timerscroll.bh.getNow()}}return I.doc.translate.x};this.notifyScrollEvent=function(y){var H=document.createEvent("UIEvents");H.initUIEvent("scroll",!1,!0,window,1);H.niceevent=!0;y.dispatchEvent(H)};var E=this.isrtlmode?1:-1;C.hastranslate3d&&I.opt.enabletranslate3d?(this.setScrollTop=function(y,H){I.doc.translate.y=y;I.doc.translate.ty=-1*y+"px";I.doc.css(C.trstyle,"translate3d("+I.doc.translate.tx+","+I.doc.translate.ty+",0px)");H||I.notifyScrollEvent(I.win[0])},this.setScrollLeft=function(y,H){I.doc.translate.x=y;I.doc.translate.tx=y*E+"px";I.doc.css(C.trstyle,"translate3d("+I.doc.translate.tx+","+I.doc.translate.ty+",0px)");H||I.notifyScrollEvent(I.win[0])}):(this.setScrollTop=function(y,H){I.doc.translate.y=y;I.doc.translate.ty=-1*y+"px";I.doc.css(C.trstyle,"translate("+I.doc.translate.tx+","+I.doc.translate.ty+")");H||I.notifyScrollEvent(I.win[0])},this.setScrollLeft=function(y,H){I.doc.translate.x=y;I.doc.translate.tx=y*E+"px";I.doc.css(C.trstyle,"translate("+I.doc.translate.tx+","+I.doc.translate.ty+")");H||I.notifyScrollEvent(I.win[0])})}else{this.getScrollTop=function(){return I.docscroll.scrollTop()},this.setScrollTop=function(y){return setTimeout(function(){I.docscroll.scrollTop(y)},1)},this.getScrollLeft=function(){return I.detected.ismozilla&&I.isrtlmode?Math.abs(I.docscroll.scrollLeft()):I.docscroll.scrollLeft()},this.setScrollLeft=function(y){return setTimeout(function(){I.docscroll.scrollLeft(I.detected.ismozilla&&I.isrtlmode?-y:y)},1)}}this.getTarget=function(y){return y?y.target?y.target:y.srcElement?y.srcElement:!1:!1};this.hasParent=function(y,H){if(!y){return !1}for(var L=y.target||y.srcElement||y||!1;L&&L.id!=H;){L=L.parentNode||!1}return !1!==L};var G={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}};this.getOffset=function(){if(I.isfixed){var y=I.win.offset(),H=I.getDocumentScrollOffset();y.top-=H.top;y.left-=H.left;return y}y=I.win.offset();if(!I.viewport){return y}H=I.viewport.offset();return{top:y.top-H.top,left:y.left-H.left}};this.updateScrollBar=function(y){if(I.ishwscroll){I.rail.css({height:I.win.innerHeight()-(I.opt.railpadding.top+I.opt.railpadding.bottom)}),I.railh&&I.railh.css({width:I.win.innerWidth()-(I.opt.railpadding.left+I.opt.railpadding.right)})}else{var H=I.getOffset(),N=H.top,L=H.left-(I.opt.railpadding.left+I.opt.railpadding.right),N=N+D(I.win,"border-top-width",!0),L=L+(I.rail.align?I.win.outerWidth()-D(I.win,"border-right-width")-I.rail.width:D(I.win,"border-left-width")),M=I.opt.railoffset;M&&(M.top&&(N+=M.top),M.left&&(L+=M.left));I.railslocked||I.rail.css({top:N,left:L,height:(y?y.h:I.win.innerHeight())-(I.opt.railpadding.top+I.opt.railpadding.bottom)});I.zoom&&I.zoom.css({top:N+1,left:1==I.rail.align?L-20:L+I.rail.width+4});if(I.railh&&!I.railslocked){N=H.top;L=H.left;if(M=I.opt.railhoffset){M.top&&(N+=M.top),M.left&&(L+=M.left)}y=I.railh.align?N+D(I.win,"border-top-width",!0)+I.win.innerHeight()-I.railh.height:N+D(I.win,"border-top-width",!0);L+=D(I.win,"border-left-width");I.railh.css({top:y-(I.opt.railpadding.top+I.opt.railpadding.bottom),left:L,width:I.railh.width})}}};this.doRailClick=function(y,H,M){var L;I.railslocked||(I.cancelEvent(y),H?(H=M?I.doScrollLeft:I.doScrollTop,L=M?(y.pageX-I.railh.offset().left-I.cursorwidth/2)*I.scrollratio.x:(y.pageY-I.rail.offset().top-I.cursorheight/2)*I.scrollratio.y,H(L)):(H=M?I.doScrollLeftBy:I.doScrollBy,L=M?I.scroll.x:I.scroll.y,y=M?y.pageX-I.railh.offset().left:y.pageY-I.rail.offset().top,M=M?I.view.w:I.view.h,H(L>=y?M:-M)))};I.hasanimationframe=q;I.hascancelanimationframe=o;I.hasanimationframe?I.hascancelanimationframe||(o=function(){I.cancelAnimationFrame=!0}):(q=function(y){return setTimeout(y,15-Math.floor(+new Date/1000)%16)},o=clearInterval);this.init=function(){I.saved.css=[];if(C.isie7mobile||C.isoperamini){return !0}C.hasmstouch&&I.css(I.ispage?B("html"):I.win,{"-ms-touch-action":"none"});I.zindex="auto";I.zindex=I.ispage||"auto"!=I.opt.zindex?I.opt.zindex:x()||"auto";!I.ispage&&"auto"!=I.zindex&&I.zindex>i&&(i=I.zindex);I.isie&&0==I.zindex&&"auto"==I.opt.zindex&&(I.zindex="auto");if(!I.ispage||!C.cantouch&&!C.isieold&&!C.isie9mobile){var U=I.docscroll;I.ispage&&(U=I.haswrapper?I.win:I.doc);C.isie9mobile||I.css(U,{"overflow-y":"hidden"});I.ispage&&C.isie7&&("BODY"==I.doc[0].nodeName?I.css(B("html"),{"overflow-y":"hidden"}):"HTML"==I.doc[0].nodeName&&I.css(B("body"),{"overflow-y":"hidden"}));!C.isios||I.ispage||I.haswrapper||I.css(B("body"),{"-webkit-overflow-scrolling":"touch"});var S=B(document.createElement("div"));S.css({position:"relative",top:0,"float":"right",width:I.opt.cursorwidth,height:"0px","background-color":I.opt.cursorcolor,border:I.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":I.opt.cursorborderradius,"-moz-border-radius":I.opt.cursorborderradius,"border-radius":I.opt.cursorborderradius});S.hborder=parseFloat(S.outerHeight()-S.innerHeight());S.addClass("nicescroll-cursors");I.cursor=S;var M=B(document.createElement("div"));M.attr("id",I.id);M.addClass("nicescroll-rails nicescroll-rails-vr");var R,P,O=["left","right","top","bottom"],T;for(T in O){P=O[T],(R=I.opt.railpadding[P])?M.css("padding-"+P,R+"px"):I.opt.railpadding[P]=0}M.append(S);M.width=Math.max(parseFloat(I.opt.cursorwidth),S.outerWidth());M.css({width:M.width+"px",zIndex:I.zindex,background:I.opt.background,cursor:"default"});M.visibility=!0;M.scrollable=!0;M.align="left"==I.opt.railalign?0:1;I.rail=M;S=I.rail.drag=!1;!I.opt.boxzoom||I.ispage||C.isieold||(S=document.createElement("div"),I.bind(S,"click",I.doZoom),I.bind(S,"mouseenter",function(){I.zoom.css("opacity",I.opt.cursoropacitymax)}),I.bind(S,"mouseleave",function(){I.zoom.css("opacity",I.opt.cursoropacitymin)}),I.zoom=B(S),I.zoom.css({cursor:"pointer","z-index":I.zindex,backgroundImage:"url("+I.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),I.opt.dblclickzoom&&I.bind(I.win,"dblclick",I.doZoom),C.cantouch&&I.opt.gesturezoom&&(I.ongesturezoom=function(N){1.5<N.scale&&I.doZoomIn(N);0.8>N.scale&&I.doZoomOut(N);return I.cancelEvent(N)},I.bind(I.win,"gestureend",I.ongesturezoom)));I.railh=!1;var L;I.opt.horizrailenabled&&(I.css(U,{"overflow-x":"hidden"}),S=B(document.createElement("div")),S.css({position:"absolute",top:0,height:I.opt.cursorwidth,width:"0px","background-color":I.opt.cursorcolor,border:I.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":I.opt.cursorborderradius,"-moz-border-radius":I.opt.cursorborderradius,"border-radius":I.opt.cursorborderradius}),C.isieold&&S.css({overflow:"hidden"}),S.wborder=parseFloat(S.outerWidth()-S.innerWidth()),S.addClass("nicescroll-cursors"),I.cursorh=S,L=B(document.createElement("div")),L.attr("id",I.id+"-hr"),L.addClass("nicescroll-rails nicescroll-rails-hr"),L.height=Math.max(parseFloat(I.opt.cursorwidth),S.outerHeight()),L.css({height:L.height+"px",zIndex:I.zindex,background:I.opt.background}),L.append(S),L.visibility=!0,L.scrollable=!0,L.align="top"==I.opt.railvalign?0:1,I.railh=L,I.railh.drag=!1);I.ispage?(M.css({position:"fixed",top:"0px",height:"100%"}),M.align?M.css({right:"0px"}):M.css({left:"0px"}),I.body.append(M),I.railh&&(L.css({position:"fixed",left:"0px",width:"100%"}),L.align?L.css({bottom:"0px"}):L.css({top:"0px"}),I.body.append(L))):(I.ishwscroll?("static"==I.win.css("position")&&I.css(I.win,{position:"relative"}),U="HTML"==I.win[0].nodeName?I.body:I.win,B(U).scrollTop(0).scrollLeft(0),I.zoom&&(I.zoom.css({position:"absolute",top:1,right:0,"margin-right":M.width+4}),U.append(I.zoom)),M.css({position:"absolute",top:0}),M.align?M.css({right:0}):M.css({left:0}),U.append(M),L&&(L.css({position:"absolute",left:0,bottom:0}),L.align?L.css({bottom:0}):L.css({top:0}),U.append(L))):(I.isfixed="fixed"==I.win.css("position"),U=I.isfixed?"fixed":"absolute",I.isfixed||(I.viewport=I.getViewport(I.win[0])),I.viewport&&(I.body=I.viewport,0==/fixed|absolute/.test(I.viewport.css("position"))&&I.css(I.viewport,{position:"relative"})),M.css({position:U}),I.zoom&&I.zoom.css({position:U}),I.updateScrollBar(),I.body.append(M),I.zoom&&I.body.append(I.zoom),I.railh&&(L.css({position:U}),I.body.append(L))),C.isios&&I.css(I.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),C.isie&&I.opt.disableoutline&&I.win.attr("hideFocus","true"),C.iswebkit&&I.opt.disableoutline&&I.win.css({outline:"none"}));!1===I.opt.autohidemode?(I.autohidedom=!1,I.rail.css({opacity:I.opt.cursoropacitymax}),I.railh&&I.railh.css({opacity:I.opt.cursoropacitymax})):!0===I.opt.autohidemode||"leave"===I.opt.autohidemode?(I.autohidedom=B().add(I.rail),C.isie8&&(I.autohidedom=I.autohidedom.add(I.cursor)),I.railh&&(I.autohidedom=I.autohidedom.add(I.railh)),I.railh&&C.isie8&&(I.autohidedom=I.autohidedom.add(I.cursorh))):"scroll"==I.opt.autohidemode?(I.autohidedom=B().add(I.rail),I.railh&&(I.autohidedom=I.autohidedom.add(I.railh))):"cursor"==I.opt.autohidemode?(I.autohidedom=B().add(I.cursor),I.railh&&(I.autohidedom=I.autohidedom.add(I.cursorh))):"hidden"==I.opt.autohidemode&&(I.autohidedom=!1,I.hide(),I.railslocked=!1);if(C.isie9mobile){I.scrollmom=new h(I),I.onmangotouch=function(){var N=I.getScrollTop(),ab=I.getScrollLeft();if(N==I.scrollmom.lastscrolly&&ab==I.scrollmom.lastscrollx){return !0}var X=N-I.mangotouch.sy,Y=ab-I.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(Y,2)+Math.pow(X,2)))){var aa=0>X?-1:1,W=0>Y?-1:1,Z=+new Date;I.mangotouch.lazy&&clearTimeout(I.mangotouch.lazy);80<Z-I.mangotouch.tm||I.mangotouch.dry!=aa||I.mangotouch.drx!=W?(I.scrollmom.stop(),I.scrollmom.reset(ab,N),I.mangotouch.sy=N,I.mangotouch.ly=N,I.mangotouch.sx=ab,I.mangotouch.lx=ab,I.mangotouch.dry=aa,I.mangotouch.drx=W,I.mangotouch.tm=Z):(I.scrollmom.stop(),I.scrollmom.update(I.mangotouch.sx-Y,I.mangotouch.sy-X),I.mangotouch.tm=Z,X=Math.max(Math.abs(I.mangotouch.ly-N),Math.abs(I.mangotouch.lx-ab)),I.mangotouch.ly=N,I.mangotouch.lx=ab,2<X&&(I.mangotouch.lazy=setTimeout(function(){I.mangotouch.lazy=!1;I.mangotouch.dry=0;I.mangotouch.drx=0;I.mangotouch.tm=0;I.scrollmom.doMomentum(30)},100)))}},M=I.getScrollTop(),L=I.getScrollLeft(),I.mangotouch={sy:M,ly:M,dry:0,sx:L,lx:L,drx:0,lazy:!1,tm:0},I.bind(I.docscroll,"scroll",I.onmangotouch)}else{if(C.cantouch||I.istouchcapable||I.opt.touchbehavior||C.hasmstouch){I.scrollmom=new h(I);I.ontouchstart=function(N){if(N.pointerType&&2!=N.pointerType&&"touch"!=N.pointerType){return !1}I.hasmoving=!1;if(!I.railslocked){var Y;if(C.hasmstouch){for(Y=N.target?N.target:!1;Y;){var W=B(Y).getNiceScroll();if(0<W.length&&W[0].me==I.me){break}if(0<W.length){return !1}if("DIV"==Y.nodeName&&Y.id==I.id){break}Y=Y.parentNode?Y.parentNode:!1}}I.cancelScroll();if((Y=I.getTarget(N))&&/INPUT/i.test(Y.nodeName)&&/range/i.test(Y.type)){return I.stopPropagation(N)}!("clientX" in N)&&"changedTouches" in N&&(N.clientX=N.changedTouches[0].clientX,N.clientY=N.changedTouches[0].clientY);I.forcescreen&&(W=N,N={original:N.original?N.original:N},N.clientX=W.screenX,N.clientY=W.screenY);I.rail.drag={x:N.clientX,y:N.clientY,sx:I.scroll.x,sy:I.scroll.y,st:I.getScrollTop(),sl:I.getScrollLeft(),pt:2,dl:!1};if(I.ispage||!I.opt.directionlockdeadzone){I.rail.drag.dl="f"}else{var W=B(window).width(),X=B(window).height(),X=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-X),W=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-W);I.rail.drag.ck=!I.rail.scrollable&&I.railh.scrollable?0<X?"v":!1:I.rail.scrollable&&!I.railh.scrollable?0<W?"h":!1:!1;I.rail.drag.ck||(I.rail.drag.dl="f")}I.opt.touchbehavior&&I.isiframe&&C.isie&&(W=I.win.position(),I.rail.drag.x+=W.left,I.rail.drag.y+=W.top);I.hasmoving=!1;I.lastmouseup=!1;I.scrollmom.reset(N.clientX,N.clientY);if(!C.cantouch&&!this.istouchcapable&&!N.pointerType){if(!Y||!/INPUT|SELECT|TEXTAREA/i.test(Y.nodeName)){return !I.ispage&&C.hasmousecapture&&Y.setCapture(),I.opt.touchbehavior?(Y.onclick&&!Y._onclick&&(Y._onclick=Y.onclick,Y.onclick=function(Z){if(I.hasmoving){return !1}Y._onclick.call(this,Z)}),I.cancelEvent(N)):I.stopPropagation(N)}/SUBMIT|CANCEL|BUTTON/i.test(B(Y).attr("type"))&&(pc={tg:Y,click:!1},I.preventclick=pc)}}};I.ontouchend=function(N){if(!I.rail.drag){return !0}if(2==I.rail.drag.pt){if(N.pointerType&&2!=N.pointerType&&"touch"!=N.pointerType){return !1}I.scrollmom.doMomentum();I.rail.drag=!1;if(I.hasmoving&&(I.lastmouseup=!0,I.hideCursor(),C.hasmousecapture&&document.releaseCapture(),!C.cantouch)){return I.cancelEvent(N)}}else{if(1==I.rail.drag.pt){return I.onmouseup(N)}}};var H=I.opt.touchbehavior&&I.isiframe&&!C.hasmousecapture;I.ontouchmove=function(ad,ac){if(!I.rail.drag||ad.targetTouches&&I.opt.preventmultitouchscrolling&&1<ad.targetTouches.length||ad.pointerType&&2!=ad.pointerType&&"touch"!=ad.pointerType){return !1}if(2==I.rail.drag.pt){if(C.cantouch&&C.isios&&"undefined"==typeof ad.original){return !0}I.hasmoving=!0;I.preventclick&&!I.preventclick.click&&(I.preventclick.click=I.preventclick.tg.onclick||!1,I.preventclick.tg.onclick=I.onpreventclick);ad=B.extend({original:ad},ad);"changedTouches" in ad&&(ad.clientX=ad.changedTouches[0].clientX,ad.clientY=ad.changedTouches[0].clientY);if(I.forcescreen){var aa=ad;ad={original:ad.original?ad.original:ad};ad.clientX=aa.screenX;ad.clientY=aa.screenY}var ab,aa=ab=0;H&&!ac&&(ab=I.win.position(),aa=-ab.left,ab=-ab.top);var X=ad.clientY+ab;ab=X-I.rail.drag.y;var Z=ad.clientX+aa,ae=Z-I.rail.drag.x,Y=I.rail.drag.st-ab;I.ishwscroll&&I.opt.bouncescroll?0>Y?Y=Math.round(Y/2):Y>I.page.maxh&&(Y=I.page.maxh+Math.round((Y-I.page.maxh)/2)):(0>Y&&(X=Y=0),Y>I.page.maxh&&(Y=I.page.maxh,X=0));var N;I.railh&&I.railh.scrollable&&(N=I.isrtlmode?ae-I.rail.drag.sl:I.rail.drag.sl-ae,I.ishwscroll&&I.opt.bouncescroll?0>N?N=Math.round(N/2):N>I.page.maxw&&(N=I.page.maxw+Math.round((N-I.page.maxw)/2)):(0>N&&(Z=N=0),N>I.page.maxw&&(N=I.page.maxw,Z=0)));aa=!1;if(I.rail.drag.dl){aa=!0,"v"==I.rail.drag.dl?N=I.rail.drag.sl:"h"==I.rail.drag.dl&&(Y=I.rail.drag.st)}else{ab=Math.abs(ab);var ae=Math.abs(ae),W=I.opt.directionlockdeadzone;if("v"==I.rail.drag.ck){if(ab>W&&ae<=0.3*ab){return I.rail.drag=!1,!0}ae>W&&(I.rail.drag.dl="f",B("body").scrollTop(B("body").scrollTop()))}else{if("h"==I.rail.drag.ck){if(ae>W&&ab<=0.3*ae){return I.rail.drag=!1,!0}ab>W&&(I.rail.drag.dl="f",B("body").scrollLeft(B("body").scrollLeft()))}}}I.synched("touchmove",function(){I.rail.drag&&2==I.rail.drag.pt&&(I.prepareTransition&&I.prepareTransition(0),I.rail.scrollable&&I.setScrollTop(Y),I.scrollmom.update(Z,X),I.railh&&I.railh.scrollable?(I.setScrollLeft(N),I.showCursor(Y,N)):I.showCursor(Y),C.isie10&&document.selection.clear())});C.ischrome&&I.istouchcapable&&(aa=!1);if(aa){return I.cancelEvent(ad)}}else{if(1==I.rail.drag.pt){return I.onmousemove(ad)}}}}I.onmousedown=function(N,X){if(!I.rail.drag||1==I.rail.drag.pt){if(I.railslocked){return I.cancelEvent(N)}I.cancelScroll();I.rail.drag={x:N.clientX,y:N.clientY,sx:I.scroll.x,sy:I.scroll.y,pt:1,hr:!!X};var W=I.getTarget(N);!I.ispage&&C.hasmousecapture&&W.setCapture();I.isiframe&&!C.hasmousecapture&&(I.saved.csspointerevents=I.doc.css("pointer-events"),I.css(I.doc,{"pointer-events":"none"}));I.hasmoving=!1;return I.cancelEvent(N)}};I.onmouseup=function(N){if(I.rail.drag){if(1!=I.rail.drag.pt){return !0}C.hasmousecapture&&document.releaseCapture();I.isiframe&&!C.hasmousecapture&&I.doc.css("pointer-events",I.saved.csspointerevents);I.rail.drag=!1;I.hasmoving&&I.triggerScrollEnd();return I.cancelEvent(N)}};I.onmousemove=function(N){if(I.rail.drag){if(1==I.rail.drag.pt){if(C.ischrome&&0==N.which){return I.onmouseup(N)}I.cursorfreezed=!0;I.hasmoving=!0;if(I.rail.drag.hr){I.scroll.x=I.rail.drag.sx+(N.clientX-I.rail.drag.x);0>I.scroll.x&&(I.scroll.x=0);var W=I.scrollvaluemaxw;I.scroll.x>W&&(I.scroll.x=W)}else{I.scroll.y=I.rail.drag.sy+(N.clientY-I.rail.drag.y),0>I.scroll.y&&(I.scroll.y=0),W=I.scrollvaluemax,I.scroll.y>W&&(I.scroll.y=W)}I.synched("mousemove",function(){I.rail.drag&&1==I.rail.drag.pt&&(I.showCursor(),I.rail.drag.hr?I.hasreversehr?I.doScrollLeft(I.scrollvaluemaxw-Math.round(I.scroll.x*I.scrollratio.x),I.opt.cursordragspeed):I.doScrollLeft(Math.round(I.scroll.x*I.scrollratio.x),I.opt.cursordragspeed):I.doScrollTop(Math.round(I.scroll.y*I.scrollratio.y),I.opt.cursordragspeed))});return I.cancelEvent(N)}}else{I.checkarea=0}};if(C.cantouch||I.opt.touchbehavior){I.onpreventclick=function(N){if(I.preventclick){return I.preventclick.tg.onclick=I.preventclick.click,I.preventclick=!1,I.cancelEvent(N)}},I.bind(I.win,"mousedown",I.ontouchstart),I.onclick=C.isios?!1:function(N){return I.lastmouseup?(I.lastmouseup=!1,I.cancelEvent(N)):!0},I.opt.grabcursorenabled&&C.cursorgrabvalue&&(I.css(I.ispage?I.doc:I.win,{cursor:C.cursorgrabvalue}),I.css(I.rail,{cursor:C.cursorgrabvalue}))}else{var y=function(N){if(I.selectiondrag){if(N){var W=I.win.outerHeight();N=N.pageY-I.selectiondrag.top;0<N&&N<W&&(N=0);N>=W&&(N-=W);I.selectiondrag.df=N}0!=I.selectiondrag.df&&(I.doScrollBy(2*-Math.floor(I.selectiondrag.df/6)),I.debounced("doselectionscroll",function(){y()},50))}};I.hasTextSelected="getSelection" in document?function(){return 0<document.getSelection().rangeCount}:"selection" in document?function(){return"None"!=document.selection.type}:function(){return !1};I.onselectionstart=function(N){I.ispage||(I.selectiondrag=I.win.offset())};I.onselectionend=function(N){I.selectiondrag=!1};I.onselectiondrag=function(N){I.selectiondrag&&I.hasTextSelected()&&I.debounced("selectionscroll",function(){y(N)},250)}}C.hasw3ctouch?(I.css(I.rail,{"touch-action":"none"}),I.css(I.cursor,{"touch-action":"none"}),I.bind(I.win,"pointerdown",I.ontouchstart),I.bind(document,"pointerup",I.ontouchend),I.bind(document,"pointermove",I.ontouchmove)):C.hasmstouch?(I.css(I.rail,{"-ms-touch-action":"none"}),I.css(I.cursor,{"-ms-touch-action":"none"}),I.bind(I.win,"MSPointerDown",I.ontouchstart),I.bind(document,"MSPointerUp",I.ontouchend),I.bind(document,"MSPointerMove",I.ontouchmove),I.bind(I.cursor,"MSGestureHold",function(N){N.preventDefault()}),I.bind(I.cursor,"contextmenu",function(N){N.preventDefault()})):this.istouchcapable&&(I.bind(I.win,"touchstart",I.ontouchstart),I.bind(document,"touchend",I.ontouchend),I.bind(document,"touchcancel",I.ontouchend),I.bind(document,"touchmove",I.ontouchmove));if(I.opt.cursordragontouch||!C.cantouch&&!I.opt.touchbehavior){I.rail.css({cursor:"default"}),I.railh&&I.railh.css({cursor:"default"}),I.jqbind(I.rail,"mouseenter",function(){if(!I.ispage&&!I.win.is(":visible")){return !1}I.canshowonmouseevent&&I.showCursor();I.rail.active=!0}),I.jqbind(I.rail,"mouseleave",function(){I.rail.active=!1;I.rail.drag||I.hideCursor()}),I.opt.sensitiverail&&(I.bind(I.rail,"click",function(N){I.doRailClick(N,!1,!1)}),I.bind(I.rail,"dblclick",function(N){I.doRailClick(N,!0,!1)}),I.bind(I.cursor,"click",function(N){I.cancelEvent(N)}),I.bind(I.cursor,"dblclick",function(N){I.cancelEvent(N)})),I.railh&&(I.jqbind(I.railh,"mouseenter",function(){if(!I.ispage&&!I.win.is(":visible")){return !1}I.canshowonmouseevent&&I.showCursor();I.rail.active=!0}),I.jqbind(I.railh,"mouseleave",function(){I.rail.active=!1;I.rail.drag||I.hideCursor()}),I.opt.sensitiverail&&(I.bind(I.railh,"click",function(N){I.doRailClick(N,!1,!0)}),I.bind(I.railh,"dblclick",function(N){I.doRailClick(N,!0,!0)}),I.bind(I.cursorh,"click",function(N){I.cancelEvent(N)}),I.bind(I.cursorh,"dblclick",function(N){I.cancelEvent(N)})))}C.cantouch||I.opt.touchbehavior?(I.bind(C.hasmousecapture?I.win:document,"mouseup",I.ontouchend),I.bind(document,"mousemove",I.ontouchmove),I.onclick&&I.bind(document,"click",I.onclick),I.opt.cursordragontouch&&(I.bind(I.cursor,"mousedown",I.onmousedown),I.bind(I.cursor,"mouseup",I.onmouseup),I.cursorh&&I.bind(I.cursorh,"mousedown",function(N){I.onmousedown(N,!0)}),I.cursorh&&I.bind(I.cursorh,"mouseup",I.onmouseup))):(I.bind(C.hasmousecapture?I.win:document,"mouseup",I.onmouseup),I.bind(document,"mousemove",I.onmousemove),I.onclick&&I.bind(document,"click",I.onclick),I.bind(I.cursor,"mousedown",I.onmousedown),I.bind(I.cursor,"mouseup",I.onmouseup),I.railh&&(I.bind(I.cursorh,"mousedown",function(N){I.onmousedown(N,!0)}),I.bind(I.cursorh,"mouseup",I.onmouseup)),!I.ispage&&I.opt.enablescrollonselection&&(I.bind(I.win[0],"mousedown",I.onselectionstart),I.bind(document,"mouseup",I.onselectionend),I.bind(I.cursor,"mouseup",I.onselectionend),I.cursorh&&I.bind(I.cursorh,"mouseup",I.onselectionend),I.bind(document,"mousemove",I.onselectiondrag)),I.zoom&&(I.jqbind(I.zoom,"mouseenter",function(){I.canshowonmouseevent&&I.showCursor();I.rail.active=!0}),I.jqbind(I.zoom,"mouseleave",function(){I.rail.active=!1;I.rail.drag||I.hideCursor()})));I.opt.enablemousewheel&&(I.isiframe||I.bind(C.isie&&I.ispage?document:I.win,"mousewheel",I.onmousewheel),I.bind(I.rail,"mousewheel",I.onmousewheel),I.railh&&I.bind(I.railh,"mousewheel",I.onmousewheelhr));I.ispage||C.cantouch||/HTML|^BODY/.test(I.win[0].nodeName)||(I.win.attr("tabindex")||I.win.attr({tabindex:g++}),I.jqbind(I.win,"focus",function(N){w=I.getTarget(N).id||!0;I.hasfocus=!0;I.canshowonmouseevent&&I.noticeCursor()}),I.jqbind(I.win,"blur",function(N){w=!1;I.hasfocus=!1}),I.jqbind(I.win,"mouseenter",function(N){r=I.getTarget(N).id||!0;I.hasmousefocus=!0;I.canshowonmouseevent&&I.noticeCursor()}),I.jqbind(I.win,"mouseleave",function(){r=!1;I.hasmousefocus=!1;I.rail.drag||I.hideCursor()}))}I.onkeypress=function(N){if(I.railslocked&&0==I.page.maxh){return !0}N=N?N:window.e;var Z=I.getTarget(N);if(Z&&/INPUT|TEXTAREA|SELECT|OPTION/.test(Z.nodeName)&&(!Z.getAttribute("type")&&!Z.type||!/submit|button|cancel/i.tp)||B(Z).attr("contenteditable")){return !0}if(I.hasfocus||I.hasmousefocus&&!w||I.ispage&&!w&&!r){Z=N.keyCode;if(I.railslocked&&27!=Z){return I.cancelEvent(N)}var W=N.ctrlKey||!1,Y=N.shiftKey||!1,X=!1;switch(Z){case 38:case 63233:I.doScrollBy(72);X=!0;break;case 40:case 63235:I.doScrollBy(-72);X=!0;break;case 37:case 63232:I.railh&&(W?I.doScrollLeft(0):I.doScrollLeftBy(72),X=!0);break;case 39:case 63234:I.railh&&(W?I.doScrollLeft(I.page.maxw):I.doScrollLeftBy(-72),X=!0);break;case 33:case 63276:I.doScrollBy(I.view.h);X=!0;break;case 34:case 63277:I.doScrollBy(-I.view.h);X=!0;break;case 36:case 63273:I.railh&&W?I.doScrollPos(0,0):I.doScrollTo(0);X=!0;break;case 35:case 63275:I.railh&&W?I.doScrollPos(I.page.maxw,I.page.maxh):I.doScrollTo(I.page.maxh);X=!0;break;case 32:I.opt.spacebarenabled&&(Y?I.doScrollBy(I.view.h):I.doScrollBy(-I.view.h),X=!0);break;case 27:I.zoomactive&&(I.doZoom(),X=!0)}if(X){return I.cancelEvent(N)}}};I.opt.enablekeyboard&&I.bind(document,C.isopera&&!C.isopera12?"keypress":"keydown",I.onkeypress);I.bind(document,"keydown",function(N){N.ctrlKey&&(I.wheelprevented=!0)});I.bind(document,"keyup",function(N){N.ctrlKey||(I.wheelprevented=!1)});I.bind(window,"blur",function(N){I.wheelprevented=!1});I.bind(window,"resize",I.lazyResize);I.bind(window,"orientationchange",I.lazyResize);I.bind(window,"load",I.lazyResize);if(C.ischrome&&!I.ispage&&!I.haswrapper){var V=I.win.attr("style"),M=parseFloat(I.win.css("width"))+1;I.win.css("width",M);I.synched("chromefix",function(){I.win.attr("style",V)})}I.onAttributeChange=function(N){I.lazyResize(I.isieold?250:30)};!1!==m&&(I.observerbody=new m(function(N){N.forEach(function(W){if("attributes"==W.type){return B("body").hasClass("modal-open")&&!B.contains(B(".modal-dialog")[0],I.doc[0])?I.hide():I.show()}});if(document.body.scrollHeight!=I.page.maxh){return I.lazyResize(30)}}),I.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]}));I.ispage||I.haswrapper||(!1!==m?(I.observer=new m(function(N){N.forEach(I.onAttributeChange)}),I.observer.observe(I.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),I.observerremover=new m(function(N){N.forEach(function(W){if(0<W.removedNodes.length){for(var X in W.removedNodes){if(I&&W.removedNodes[X]==I.win[0]){return I.remove()}}}})}),I.observerremover.observe(I.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(I.bind(I.win,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",I.onAttributeChange),C.isie9&&I.win[0].attachEvent("onpropertychange",I.onAttributeChange),I.bind(I.win,"DOMNodeRemoved",function(N){N.target==I.win[0]&&I.remove()})));!I.ispage&&I.opt.boxzoom&&I.bind(window,"resize",I.resizeZoom);I.istextarea&&(I.bind(I.win,"keydown",I.lazyResize),I.bind(I.win,"mouseup",I.lazyResize));I.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var Q=function(){I.iframexd=!1;var N;try{N="contentDocument" in this?this.contentDocument:this.contentWindow.document}catch(X){I.iframexd=!0,N=!1}if(I.iframexd){return"console" in window&&console.log("NiceScroll error: policy restriced iframe"),!0}I.forcescreen=!0;I.isiframe&&(I.iframe={doc:B(N),html:I.doc.contents().find("html")[0],body:I.doc.contents().find("body")[0]},I.getContentSize=function(){return{w:Math.max(I.iframe.html.scrollWidth,I.iframe.body.scrollWidth),h:Math.max(I.iframe.html.scrollHeight,I.iframe.body.scrollHeight)}},I.docscroll=B(I.iframe.body));if(!C.isios&&I.opt.iframeautoresize&&!I.isiframe){I.win.scrollTop(0);I.doc.height("");var W=Math.max(N.getElementsByTagName("html")[0].scrollHeight,N.body.scrollHeight);I.doc.height(W)}I.lazyResize(30);C.isie7&&I.css(B(I.iframe.html),{"overflow-y":"hidden"});I.css(B(I.iframe.body),{"overflow-y":"hidden"});C.isios&&I.haswrapper&&I.css(B(N.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow" in this?I.bind(this.contentWindow,"scroll",I.onscroll):I.bind(N,"scroll",I.onscroll);I.opt.enablemousewheel&&I.bind(N,"mousewheel",I.onmousewheel);I.opt.enablekeyboard&&I.bind(N,C.isopera?"keypress":"keydown",I.onkeypress);if(C.cantouch||I.opt.touchbehavior){I.bind(N,"mousedown",I.ontouchstart),I.bind(N,"mousemove",function(Y){return I.ontouchmove(Y,!0)}),I.opt.grabcursorenabled&&C.cursorgrabvalue&&I.css(B(N.body),{cursor:C.cursorgrabvalue})}I.bind(N,"mouseup",I.ontouchend);I.zoom&&(I.opt.dblclickzoom&&I.bind(N,"dblclick",I.doZoom),I.ongesturezoom&&I.bind(N,"gestureend",I.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){Q.call(I.doc[0],!1)},500);I.bind(this.doc,"load",Q)}};this.showCursor=function(y,L){I.cursortimeout&&(clearTimeout(I.cursortimeout),I.cursortimeout=0);if(I.rail){I.autohidedom&&(I.autohidedom.stop().css({opacity:I.opt.cursoropacitymax}),I.cursoractive=!0);I.rail.drag&&1==I.rail.drag.pt||("undefined"!=typeof y&&!1!==y&&(I.scroll.y=Math.round(1*y/I.scrollratio.y)),"undefined"!=typeof L&&(I.scroll.x=Math.round(1*L/I.scrollratio.x)));I.cursor.css({height:I.cursorheight,top:I.scroll.y});if(I.cursorh){var H=I.hasreversehr?I.scrollvaluemaxw-I.scroll.x:I.scroll.x;!I.rail.align&&I.rail.visibility?I.cursorh.css({width:I.cursorwidth,left:H+I.rail.width}):I.cursorh.css({width:I.cursorwidth,left:H});I.cursoractive=!0}I.zoom&&I.zoom.stop().css({opacity:I.opt.cursoropacitymax})}};this.hideCursor=function(y){I.cursortimeout||!I.rail||!I.autohidedom||I.hasmousefocus&&"leave"==I.opt.autohidemode||(I.cursortimeout=setTimeout(function(){I.rail.active&&I.showonmouseevent||(I.autohidedom.stop().animate({opacity:I.opt.cursoropacitymin}),I.zoom&&I.zoom.stop().animate({opacity:I.opt.cursoropacitymin}),I.cursoractive=!1);I.cursortimeout=0},y||I.opt.hidecursordelay))};this.noticeCursor=function(y,L,H){I.showCursor(L,H);I.rail.active||I.hideCursor(y)};this.getContentSize=I.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:I.haswrapper?function(){return{w:I.doc.outerWidth()+parseInt(I.win.css("paddingLeft"))+parseInt(I.win.css("paddingRight")),h:I.doc.outerHeight()+parseInt(I.win.css("paddingTop"))+parseInt(I.win.css("paddingBottom"))}}:function(){return{w:I.docscroll[0].scrollWidth,h:I.docscroll[0].scrollHeight}};this.onResize=function(y,O){if(!I||!I.win){return !1}if(!I.haswrapper&&!I.ispage){if("none"==I.win.css("display")){return I.visibility&&I.hideRail().hideRailHr(),!1}I.hidden||I.visibility||I.showRail().showRailHr()}var N=I.page.maxh,L=I.page.maxw,M=I.view.h,H=I.view.w;I.view={w:I.ispage?I.win.width():parseInt(I.win[0].clientWidth),h:I.ispage?I.win.height():parseInt(I.win[0].clientHeight)};I.page=O?O:I.getContentSize();I.page.maxh=Math.max(0,I.page.h-I.view.h);I.page.maxw=Math.max(0,I.page.w-I.view.w);if(I.page.maxh==N&&I.page.maxw==L&&I.view.w==H&&I.view.h==M){if(I.ispage){return I}N=I.win.offset();if(I.lastposition&&(L=I.lastposition,L.top==N.top&&L.left==N.left)){return I}I.lastposition=N}0==I.page.maxh?(I.hideRail(),I.scrollvaluemax=0,I.scroll.y=0,I.scrollratio.y=0,I.cursorheight=0,I.setScrollTop(0),I.rail&&(I.rail.scrollable=!1)):(I.page.maxh-=I.opt.railpadding.top+I.opt.railpadding.bottom,I.rail.scrollable=!0);0==I.page.maxw?(I.hideRailHr(),I.scrollvaluemaxw=0,I.scroll.x=0,I.scrollratio.x=0,I.cursorwidth=0,I.setScrollLeft(0),I.railh&&(I.railh.scrollable=!1)):(I.page.maxw-=I.opt.railpadding.left+I.opt.railpadding.right,I.railh&&(I.railh.scrollable=I.opt.horizrailenabled));I.railslocked=I.locked||0==I.page.maxh&&0==I.page.maxw;if(I.railslocked){return I.ispage||I.updateScrollBar(I.view),!1}I.hidden||I.visibility?!I.railh||I.hidden||I.railh.visibility||I.showRailHr():I.showRail().showRailHr();I.istextarea&&I.win.css("resize")&&"none"!=I.win.css("resize")&&(I.view.h-=20);I.cursorheight=Math.min(I.view.h,Math.round(I.view.h/I.page.h*I.view.h));I.cursorheight=I.opt.cursorfixedheight?I.opt.cursorfixedheight:Math.max(I.opt.cursorminheight,I.cursorheight);I.cursorwidth=Math.min(I.view.w,Math.round(I.view.w/I.page.w*I.view.w));I.cursorwidth=I.opt.cursorfixedheight?I.opt.cursorfixedheight:Math.max(I.opt.cursorminheight,I.cursorwidth);I.scrollvaluemax=I.view.h-I.cursorheight-I.cursor.hborder-(I.opt.railpadding.top+I.opt.railpadding.bottom);I.railh&&(I.railh.width=0<I.page.maxh?I.view.w-I.rail.width:I.view.w,I.scrollvaluemaxw=I.railh.width-I.cursorwidth-I.cursorh.wborder-(I.opt.railpadding.left+I.opt.railpadding.right));I.ispage||I.updateScrollBar(I.view);I.scrollratio={x:I.page.maxw/I.scrollvaluemaxw,y:I.page.maxh/I.scrollvaluemax};I.getScrollTop()>I.page.maxh?I.doScrollTop(I.page.maxh):(I.scroll.y=Math.round(I.getScrollTop()*(1/I.scrollratio.y)),I.scroll.x=Math.round(I.getScrollLeft()*(1/I.scrollratio.x)),I.cursoractive&&I.noticeCursor());I.scroll.y&&0==I.getScrollTop()&&I.doScrollTo(Math.floor(I.scroll.y*I.scrollratio.y));return I};this.resize=I.onResize;this.lazyResize=function(y){y=isNaN(y)?30:y;I.debounced("resize",I.resize,y);return I};this.jqbind=function(y,L,H){I.events.push({e:y,n:L,f:H,q:!0});B(y).bind(L,H)};this.bind=function(y,N,M,L){var H="jquery" in y?y[0]:y;"mousewheel"==N?"onwheel" in I.win?I._bind(H,"wheel",M,L||!1):(y="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(H,y,M,L||!1),"DOMMouseScroll"==y&&v(H,"MozMousePixelScroll",M,L||!1)):H.addEventListener?(C.cantouch&&/mouseup|mousedown|mousemove/.test(N)&&I._bind(H,"mousedown"==N?"touchstart":"mouseup"==N?"touchend":"touchmove",function(P){if(P.touches){if(2>P.touches.length){var O=P.touches.length?P.touches[0]:P;O.original=P;M.call(this,O)}}else{P.changedTouches&&(O=P.changedTouches[0],O.original=P,M.call(this,O))}},L||!1),I._bind(H,N,M,L||!1),C.cantouch&&"mouseup"==N&&I._bind(H,"touchcancel",M,L||!1)):I._bind(H,N,function(O){(O=O||window.event||!1)&&O.srcElement&&(O.target=O.srcElement);"pageY" in O||(O.pageX=O.clientX+document.documentElement.scrollLeft,O.pageY=O.clientY+document.documentElement.scrollTop);return !1===M.call(H,O)||!1===L?I.cancelEvent(O):!0})};C.haseventlistener?(this._bind=function(y,M,L,H){I.events.push({e:y,n:M,f:L,b:H,q:!1});y.addEventListener(M,L,H||!1)},this.cancelEvent=function(y){if(!y){return !1}y=y.original?y.original:y;y.preventDefault();y.stopPropagation();y.preventManipulation&&y.preventManipulation();return !1},this.stopPropagation=function(y){if(!y){return !1}y=y.original?y.original:y;y.stopPropagation();return !1},this._unbind=function(y,M,L,H){y.removeEventListener(M,L,H)}):(this._bind=function(y,M,L,H){I.events.push({e:y,n:M,f:L,b:H,q:!1});y.attachEvent?y.attachEvent("on"+M,L):y["on"+M]=L},this.cancelEvent=function(y){y=window.event||!1;if(!y){return !1}y.cancelBubble=!0;y.cancel=!0;return y.returnValue=!1},this.stopPropagation=function(y){y=window.event||!1;if(!y){return !1}y.cancelBubble=!0;return !1},this._unbind=function(y,M,L,H){y.detachEvent?y.detachEvent("on"+M,L):y["on"+M]=!1});this.unbindAll=function(){for(var y=0;y<I.events.length;y++){var H=I.events[y];H.q?H.e.unbind(H.n,H.f):I._unbind(H.e,H.n,H.f,H.b)}};this.showRail=function(){0==I.page.maxh||!I.ispage&&"none"==I.win.css("display")||(I.visibility=!0,I.rail.visibility=!0,I.rail.css("display","block"));return I};this.showRailHr=function(){if(!I.railh){return I}0==I.page.maxw||!I.ispage&&"none"==I.win.css("display")||(I.railh.visibility=!0,I.railh.css("display","block"));return I};this.hideRail=function(){I.visibility=!1;I.rail.visibility=!1;I.rail.css("display","none");return I};this.hideRailHr=function(){if(!I.railh){return I}I.railh.visibility=!1;I.railh.css("display","none");return I};this.show=function(){I.hidden=!1;I.railslocked=!1;return I.showRail().showRailHr()};this.hide=function(){I.hidden=!0;I.railslocked=!0;return I.hideRail().hideRailHr()};this.toggle=function(){return I.hidden?I.show():I.hide()};this.remove=function(){I.stop();I.cursortimeout&&clearTimeout(I.cursortimeout);I.debouncedelayed&&clearTimeout(I.debouncedelayed);I.doZoomOut();I.unbindAll();C.isie9&&I.win[0].detachEvent("onpropertychange",I.onAttributeChange);!1!==I.observer&&I.observer.disconnect();!1!==I.observerremover&&I.observerremover.disconnect();!1!==I.observerbody&&I.observerbody.disconnect();I.events=null;I.cursor&&I.cursor.remove();I.cursorh&&I.cursorh.remove();I.rail&&I.rail.remove();I.railh&&I.railh.remove();I.zoom&&I.zoom.remove();for(var y=0;y<I.saved.css.length;y++){var M=I.saved.css[y];M[0].css(M[1],"undefined"==typeof M[2]?"":M[2])}I.saved=!1;I.me.data("__nicescroll","");var L=B.nicescroll;L.each(function(N){if(this&&this.id===I.id){delete L[N];for(var O=++N;O<L.length;O++,N++){L[N]=L[O]}L.length--;L.length&&delete L[L.length]}});for(var H in I){I[H]=null,delete I[H]}I=null};this.scrollstart=function(y){this.onscrollstart=y;return I};this.scrollend=function(y){this.onscrollend=y;return I};this.scrollcancel=function(y){this.onscrollcancel=y;return I};this.zoomin=function(y){this.onzoomin=y;return I};this.zoomout=function(y){this.onzoomout=y;return I};this.isScrollable=function(y){y=y.target?y.target:y;if("OPTION"==y.nodeName){return !0}for(;y&&1==y.nodeType&&!/^BODY|HTML/.test(y.nodeName);){var H=B(y),H=H.css("overflowY")||H.css("overflowX")||H.css("overflow")||"";if(/scroll|auto/.test(H)){return y.clientHeight!=y.scrollHeight}y=y.parentNode?y.parentNode:!1}return !1};this.getViewport=function(y){for(y=y&&y.parentNode?y.parentNode:!1;y&&1==y.nodeType&&!/^BODY|HTML/.test(y.nodeName);){var L=B(y);if(/fixed|absolute/.test(L.css("position"))){return L}var H=L.css("overflowY")||L.css("overflowX")||L.css("overflow")||"";if(/scroll|auto/.test(H)&&y.clientHeight!=y.scrollHeight||0<L.getNiceScroll().length){return L}y=y.parentNode?y.parentNode:!1}return !1};this.triggerScrollEnd=function(){if(I.onscrollend){var y=I.getScrollLeft(),H=I.getScrollTop();I.onscrollend.call(I,{type:"scrollend",current:{x:y,y:H},end:{x:y,y:H}})}};this.onmousewheel=function(y){if(!I.wheelprevented){if(I.railslocked){return I.debounced("checkunlock",I.resize,250),!0}if(I.rail.drag){return I.cancelEvent(y)}"auto"==I.opt.oneaxismousemode&&0!=y.deltaX&&(I.opt.oneaxismousemode=!1);if(I.opt.oneaxismousemode&&0==y.deltaX&&!I.rail.scrollable){return I.railh&&I.railh.scrollable?I.onmousewheelhr(y):!0}var L=+new Date,H=!1;I.opt.preservenativescrolling&&I.checkarea+600<L&&(I.nativescrollingarea=I.isScrollable(y),H=!0);I.checkarea=L;if(I.nativescrollingarea){return !0}if(y=e(y,!1,H)){I.checkarea=0}return y}};this.onmousewheelhr=function(y){if(!I.wheelprevented){if(I.railslocked||!I.railh.scrollable){return !0}if(I.rail.drag){return I.cancelEvent(y)}var L=+new Date,H=!1;I.opt.preservenativescrolling&&I.checkarea+600<L&&(I.nativescrollingarea=I.isScrollable(y),H=!0);I.checkarea=L;return I.nativescrollingarea?!0:I.railslocked?I.cancelEvent(y):e(y,!0,H)}};this.stop=function(){I.cancelScroll();I.scrollmon&&I.scrollmon.stop();I.cursorfreezed=!1;I.scroll.y=Math.round(I.getScrollTop()*(1/I.scrollratio.y));I.noticeCursor();return I};this.getTransitionSpeed=function(y){y=Math.min(Math.round(10*I.opt.scrollspeed),Math.round(y/20*I.opt.scrollspeed));return 20<y?y:0};I.opt.smoothscroll?I.ishwscroll&&C.hastransition&&I.opt.usetransition&&I.opt.smoothscroll?(this.prepareTransition=function(y,M){var L=M?20<y?y:0:I.getTransitionSpeed(y),H=L?C.prefixstyle+"transform "+L+"ms ease-out":"";I.lasttransitionstyle&&I.lasttransitionstyle==H||(I.lasttransitionstyle=H,I.doc.css(C.transitionstyle,H));return L},this.doScrollLeft=function(y,L){var H=I.scrollrunning?I.newscrolly:I.getScrollTop();I.doScrollPos(y,H,L)},this.doScrollTop=function(y,L){var H=I.scrollrunning?I.newscrollx:I.getScrollLeft();I.doScrollPos(H,y,L)},this.doScrollPos=function(y,N,M){var L=I.getScrollTop(),H=I.getScrollLeft();(0>(I.newscrolly-L)*(N-L)||0>(I.newscrollx-H)*(y-H))&&I.cancelScroll();0==I.opt.bouncescroll&&(0>N?N=0:N>I.page.maxh&&(N=I.page.maxh),0>y?y=0:y>I.page.maxw&&(y=I.page.maxw));if(I.scrollrunning&&y==I.newscrollx&&N==I.newscrolly){return !1}I.newscrolly=N;I.newscrollx=y;I.newscrollspeed=M||!1;if(I.timer){return !1}I.timer=setTimeout(function(){var Q=I.getScrollTop(),P=I.getScrollLeft(),O=Math.round(Math.sqrt(Math.pow(y-P,2)+Math.pow(N-Q,2))),O=I.newscrollspeed&&1<I.newscrollspeed?I.newscrollspeed:I.getTransitionSpeed(O);I.newscrollspeed&&1>=I.newscrollspeed&&(O*=I.newscrollspeed);I.prepareTransition(O,!0);I.timerscroll&&I.timerscroll.tm&&clearInterval(I.timerscroll.tm);0<O&&(!I.scrollrunning&&I.onscrollstart&&I.onscrollstart.call(I,{type:"scrollstart",current:{x:P,y:Q},request:{x:y,y:N},end:{x:I.newscrollx,y:I.newscrolly},speed:O}),C.transitionend?I.scrollendtrapped||(I.scrollendtrapped=!0,I.bind(I.doc,C.transitionend,I.onScrollTransitionEnd,!1)):(I.scrollendtrapped&&clearTimeout(I.scrollendtrapped),I.scrollendtrapped=setTimeout(I.onScrollTransitionEnd,O)),I.timerscroll={bz:new u(Q,I.newscrolly,O,0,0,0.58,1),bh:new u(P,I.newscrollx,O,0,0,0.58,1)},I.cursorfreezed||(I.timerscroll.tm=setInterval(function(){I.showCursor(I.getScrollTop(),I.getScrollLeft())},60)));I.synched("doScroll-set",function(){I.timer=0;I.scrollendtrapped&&(I.scrollrunning=!0);I.setScrollTop(I.newscrolly);I.setScrollLeft(I.newscrollx);if(!I.scrollendtrapped){I.onScrollTransitionEnd()}})},50)},this.cancelScroll=function(){if(!I.scrollendtrapped){return !0}var y=I.getScrollTop(),H=I.getScrollLeft();I.scrollrunning=!1;C.transitionend||clearTimeout(C.transitionend);I.scrollendtrapped=!1;I._unbind(I.doc[0],C.transitionend,I.onScrollTransitionEnd);I.prepareTransition(0);I.setScrollTop(y);I.railh&&I.setScrollLeft(H);I.timerscroll&&I.timerscroll.tm&&clearInterval(I.timerscroll.tm);I.timerscroll=!1;I.cursorfreezed=!1;I.showCursor(y,H);return I},this.onScrollTransitionEnd=function(){I.scrollendtrapped&&I._unbind(I.doc[0],C.transitionend,I.onScrollTransitionEnd);I.scrollendtrapped=!1;I.prepareTransition(0);I.timerscroll&&I.timerscroll.tm&&clearInterval(I.timerscroll.tm);I.timerscroll=!1;var y=I.getScrollTop(),H=I.getScrollLeft();I.setScrollTop(y);I.railh&&I.setScrollLeft(H);I.noticeCursor(!1,y,H);I.cursorfreezed=!1;0>y?y=0:y>I.page.maxh&&(y=I.page.maxh);0>H?H=0:H>I.page.maxw&&(H=I.page.maxw);if(y!=I.newscrolly||H!=I.newscrollx){return I.doScrollPos(H,y,I.opt.snapbackspeed)}I.onscrollend&&I.scrollrunning&&I.triggerScrollEnd();I.scrollrunning=!1}):(this.doScrollLeft=function(y,L){var H=I.scrollrunning?I.newscrolly:I.getScrollTop();I.doScrollPos(y,H,L)},this.doScrollTop=function(y,L){var H=I.scrollrunning?I.newscrollx:I.getScrollLeft();I.doScrollPos(H,y,L)},this.doScrollPos=function(S,R,Q){function O(){if(I.cancelAnimationFrame){return !0}I.scrollrunning=!0;if(y=1-y){return I.timer=q(O)||1}var T=0,W,V,U=V=I.getScrollTop();if(I.dst.ay){U=I.bzscroll?I.dst.py+I.bzscroll.getNow()*I.dst.ay:I.newscrolly;W=U-V;if(0>W&&U<I.newscrolly||0<W&&U>I.newscrolly){U=I.newscrolly}I.setScrollTop(U);U==I.newscrolly&&(T=1)}else{T=1}V=W=I.getScrollLeft();if(I.dst.ax){V=I.bzscroll?I.dst.px+I.bzscroll.getNow()*I.dst.ax:I.newscrollx;W=V-W;if(0>W&&V<I.newscrollx||0<W&&V>I.newscrollx){V=I.newscrollx}I.setScrollLeft(V);V==I.newscrollx&&(T+=1)}else{T+=1}2==T?(I.timer=0,I.cursorfreezed=!1,I.bzscroll=!1,I.scrollrunning=!1,0>U?U=0:U>I.page.maxh&&(U=I.page.maxh),0>V?V=0:V>I.page.maxw&&(V=I.page.maxw),V!=I.newscrollx||U!=I.newscrolly?I.doScrollPos(V,U):I.onscrollend&&I.triggerScrollEnd()):I.timer=q(O)||1}R="undefined"==typeof R||!1===R?I.getScrollTop(!0):R;if(I.timer&&I.newscrolly==R&&I.newscrollx==S){return !0}I.timer&&o(I.timer);I.timer=0;var P=I.getScrollTop(),N=I.getScrollLeft();(0>(I.newscrolly-P)*(R-P)||0>(I.newscrollx-N)*(S-N))&&I.cancelScroll();I.newscrolly=R;I.newscrollx=S;I.bouncescroll&&I.rail.visibility||(0>I.newscrolly?I.newscrolly=0:I.newscrolly>I.page.maxh&&(I.newscrolly=I.page.maxh));I.bouncescroll&&I.railh.visibility||(0>I.newscrollx?I.newscrollx=0:I.newscrollx>I.page.maxw&&(I.newscrollx=I.page.maxw));I.dst={};I.dst.x=S-N;I.dst.y=R-P;I.dst.px=N;I.dst.py=P;var M=Math.round(Math.sqrt(Math.pow(I.dst.x,2)+Math.pow(I.dst.y,2)));I.dst.ax=I.dst.x/M;I.dst.ay=I.dst.y/M;var L=0,H=M;0==I.dst.x?(L=P,H=R,I.dst.ay=1,I.dst.py=0):0==I.dst.y&&(L=N,H=S,I.dst.ax=1,I.dst.px=0);M=I.getTransitionSpeed(M);Q&&1>=Q&&(M*=Q);I.bzscroll=0<M?I.bzscroll?I.bzscroll.update(H,M):new u(L,H,M,0,1,0,1):!1;if(!I.timer){(P==I.page.maxh&&R>=I.page.maxh||N==I.page.maxw&&S>=I.page.maxw)&&I.checkContentSize();var y=1;I.cancelAnimationFrame=!1;I.timer=1;I.onscrollstart&&!I.scrollrunning&&I.onscrollstart.call(I,{type:"scrollstart",current:{x:N,y:P},request:{x:S,y:R},end:{x:I.newscrollx,y:I.newscrolly},speed:M});O();(P==I.page.maxh&&R>=P||N==I.page.maxw&&S>=N)&&I.checkContentSize();I.noticeCursor()}},this.cancelScroll=function(){I.timer&&o(I.timer);I.timer=0;I.bzscroll=!1;I.scrollrunning=!1;return I}):(this.doScrollLeft=function(y,L){var H=I.getScrollTop();I.doScrollPos(y,H,L)},this.doScrollTop=function(y,L){var H=I.getScrollLeft();I.doScrollPos(H,y,L)},this.doScrollPos=function(y,N,M){var H=y>I.page.maxw?I.page.maxw:y;0>H&&(H=0);var L=N>I.page.maxh?I.page.maxh:N;0>L&&(L=0);I.synched("scroll",function(){I.setScrollTop(L);I.setScrollLeft(H)})},this.cancelScroll=function(){});this.doScrollBy=function(y,M){var L=0,L=M?Math.floor((I.scroll.y-y)*I.scrollratio.y):(I.timer?I.newscrolly:I.getScrollTop(!0))-y;if(I.bouncescroll){var H=Math.round(I.view.h/2);L<-H?L=-H:L>I.page.maxh+H&&(L=I.page.maxh+H)}I.cursorfreezed=!1;H=I.getScrollTop(!0);if(0>L&&0>=H){return I.noticeCursor()}if(L>I.page.maxh&&H>=I.page.maxh){return I.checkContentSize(),I.noticeCursor()}I.doScrollTop(L)};this.doScrollLeftBy=function(y,M){var L=0,L=M?Math.floor((I.scroll.x-y)*I.scrollratio.x):(I.timer?I.newscrollx:I.getScrollLeft(!0))-y;if(I.bouncescroll){var H=Math.round(I.view.w/2);L<-H?L=-H:L>I.page.maxw+H&&(L=I.page.maxw+H)}I.cursorfreezed=!1;H=I.getScrollLeft(!0);if(0>L&&0>=H||L>I.page.maxw&&H>=I.page.maxw){return I.noticeCursor()}I.doScrollLeft(L)};this.doScrollTo=function(y,H){I.cursorfreezed=!1;I.doScrollTop(y)};this.checkContentSize=function(){var y=I.getContentSize();y.h==I.page.h&&y.w==I.page.w||I.resize(!1,y)};I.onscroll=function(y){I.rail.drag||I.cursorfreezed||I.synched("scroll",function(){I.scroll.y=Math.round(I.getScrollTop()*(1/I.scrollratio.y));I.railh&&(I.scroll.x=Math.round(I.getScrollLeft()*(1/I.scrollratio.x)));I.noticeCursor()})};I.bind(I.docscroll,"scroll",I.onscroll);this.doZoomIn=function(y){if(!I.zoomactive){I.zoomactive=!0;I.zoomrestore={style:{}};var N="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),M=I.win[0].style,L;for(L in N){var H=N[L];I.zoomrestore.style[H]="undefined"!=typeof M[H]?M[H]:""}I.zoomrestore.style.width=I.win.css("width");I.zoomrestore.style.height=I.win.css("height");I.zoomrestore.padding={w:I.win.outerWidth()-I.win.width(),h:I.win.outerHeight()-I.win.height()};C.isios4&&(I.zoomrestore.scrollTop=B(window).scrollTop(),B(window).scrollTop(0));I.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,"z-index":i+100,margin:"0px"});N=I.win.css("backgroundColor");(""==N||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(N))&&I.win.css("backgroundColor","#fff");I.rail.css({"z-index":i+101});I.zoom.css({"z-index":i+102});I.zoom.css("backgroundPosition","0px -18px");I.resizeZoom();I.onzoomin&&I.onzoomin.call(I);return I.cancelEvent(y)}};this.doZoomOut=function(y){if(I.zoomactive){return I.zoomactive=!1,I.win.css("margin",""),I.win.css(I.zoomrestore.style),C.isios4&&B(window).scrollTop(I.zoomrestore.scrollTop),I.rail.css({"z-index":I.zindex}),I.zoom.css({"z-index":I.zindex}),I.zoomrestore=!1,I.zoom.css("backgroundPosition","0px 0px"),I.onResize(),I.onzoomout&&I.onzoomout.call(I),I.cancelEvent(y)}};this.doZoom=function(y){return I.zoomactive?I.doZoomOut(y):I.doZoomIn(y)};this.resizeZoom=function(){if(I.zoomactive){var y=I.getScrollTop();I.win.css({width:B(window).width()-I.zoomrestore.padding.w+"px",height:B(window).height()-I.zoomrestore.padding.h+"px"});I.onResize();I.setScrollTop(Math.min(I.page.maxh,y))}};this.init();B.nicescroll.push(this)},h=function(u){var v=this;this.nc=u;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return +new Date};this.reset=function(y,x){v.stop();var z=v.time();v.steptime=0;v.lasttime=z;v.speedx=0;v.speedy=0;v.lastx=y;v.lasty=x;v.lastscrollx=-1;v.lastscrolly=-1};this.update=function(C,y){var D=v.time();v.steptime=D-v.lasttime;v.lasttime=D;var D=y-v.lasty,A=C-v.lastx,z=v.nc.getScrollTop(),x=v.nc.getScrollLeft(),z=z+D,x=x+A;v.snapx=0>x||x>v.nc.page.maxw;v.snapy=0>z||z>v.nc.page.maxh;v.speedx=A;v.speedy=D;v.lastx=C;v.lasty=y};this.stop=function(){v.nc.unsynched("domomentum2d");v.timer&&clearTimeout(v.timer);v.timer=0;v.lastscrollx=-1;v.lastscrolly=-1};this.doSnapy=function(y,x){var z=!1;0>x?(x=0,z=!0):x>v.nc.page.maxh&&(x=v.nc.page.maxh,z=!0);0>y?(y=0,z=!0):y>v.nc.page.maxw&&(y=v.nc.page.maxw,z=!0);z?v.nc.doScrollPos(y,x,v.nc.opt.snapbackspeed):v.nc.triggerScrollEnd()};this.doMomentum=function(C){var z=v.time(),D=C?z+C:v.lasttime;C=v.nc.getScrollLeft();var y=v.nc.getScrollTop(),x=v.nc.page.maxh,E=v.nc.page.maxw;v.speedx=0<E?Math.min(60,v.speedx):0;v.speedy=0<x?Math.min(60,v.speedy):0;D=D&&60>=z-D;if(0>y||y>x||0>C||C>E){D=!1}C=v.speedx&&D?v.speedx:!1;if(v.speedy&&D&&v.speedy||C){var G=Math.max(16,v.steptime);50<G&&(C=G/50,v.speedx*=C,v.speedy*=C,G=50);v.demulxy=0;v.lastscrollx=v.nc.getScrollLeft();v.chkx=v.lastscrollx;v.lastscrolly=v.nc.getScrollTop();v.chky=v.lastscrolly;var A=v.lastscrollx,H=v.lastscrolly,F=function(){var e=600<v.time()-z?0.04:0.02;v.speedx&&(A=Math.floor(v.lastscrollx-v.speedx*(1-v.demulxy)),v.lastscrollx=A,0>A||A>E)&&(e=0.1);v.speedy&&(H=Math.floor(v.lastscrolly-v.speedy*(1-v.demulxy)),v.lastscrolly=H,0>H||H>x)&&(e=0.1);v.demulxy=Math.min(1,v.demulxy+e);v.nc.synched("domomentum2d",function(){v.speedx&&(v.nc.getScrollLeft()!=v.chkx&&v.stop(),v.chkx=A,v.nc.setScrollLeft(A));v.speedy&&(v.nc.getScrollTop()!=v.chky&&v.stop(),v.chky=H,v.nc.setScrollTop(H));v.timer||(v.nc.hideCursor(),v.doSnapy(A,H))});1>v.demulxy?v.timer=setTimeout(F,G):(v.stop(),v.nc.hideCursor(),v.doSnapy(A,H))};F()}else{v.doSnapy(v.nc.getScrollLeft(),v.nc.getScrollTop())}}},j=B.fn.scrollTop;B.cssHooks.pageYOffset={get:function(e,v,u){return(v=B.data(e,"__nicescroll")||!1)&&v.ishwscroll?v.getScrollTop():j.call(e)},set:function(e,v){var u=B.data(e,"__nicescroll")||!1;u&&u.ishwscroll?u.setScrollTop(parseInt(v)):j.call(e,v);return this}};B.fn.scrollTop=function(e){if("undefined"==typeof e){var u=this[0]?B.data(this[0],"__nicescroll")||!1:!1;return u&&u.ishwscroll?u.getScrollTop():j.call(this)}return this.each(function(){var v=B.data(this,"__nicescroll")||!1;v&&v.ishwscroll?v.setScrollTop(parseInt(e)):j.call(B(this),e)})};var t=B.fn.scrollLeft;B.cssHooks.pageXOffset={get:function(e,v,u){return(v=B.data(e,"__nicescroll")||!1)&&v.ishwscroll?v.getScrollLeft():t.call(e)},set:function(e,v){var u=B.data(e,"__nicescroll")||!1;u&&u.ishwscroll?u.setScrollLeft(parseInt(v)):t.call(e,v);return this}};B.fn.scrollLeft=function(e){if("undefined"==typeof e){var u=this[0]?B.data(this[0],"__nicescroll")||!1:!1;return u&&u.ishwscroll?u.getScrollLeft():t.call(this)}return this.each(function(){var v=B.data(this,"__nicescroll")||!1;v&&v.ishwscroll?v.setScrollLeft(parseInt(e)):t.call(B(this),e)})};var s=function(e){var x=this;this.length=0;this.name="nicescrollarray";this.each=function(A){for(var z=0,y=0;z<x.length;z++){A.call(x[z],y++)}return x};this.push=function(y){x[x.length]=y;x.length++};this.eq=function(y){return x[y]};if(e){for(var u=0;u<e.length;u++){var v=B.data(e[u],"__nicescroll")||!1;v&&(this[this.length]=v,this.length++)}}return this};(function(v,y,u){for(var x=0;x<y.length;x++){u(v,y[x])}})(s.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(u,v){u[v]=function(){var x=arguments;return this.each(function(){this[v].apply(this,x)})}});B.fn.getNiceScroll=function(e){return"undefined"==typeof e?new s(this):this[e]&&B.data(this[e],"__nicescroll")||!1};B.extend(B.expr[":"],{nicescroll:function(e){return B.data(e,"__nicescroll")?!0:!1}});B.fn.niceScroll=function(e,x){"undefined"!=typeof x||"object"!=typeof e||"jquery" in e||(x=e,e=!1);x=B.extend({},x);var u=new s;"undefined"==typeof x&&(x={});e&&(x.doc=B(e),x.win=B(this));var v=!("doc" in x);v||"win" in x||(x.win=B(this));this.each(function(){var y=B(this).data("__nicescroll")||!1;y||(x.doc=v?B(this):x.doc,y=new b(x,B(this)),B(this).data("__nicescroll",y));u.push(y)});return 1==u.length?u[0]:u};window.NiceScroll={getjQuery:function(){return B}};B.nicescroll||(B.nicescroll=new s,B.nicescroll.options=k)});